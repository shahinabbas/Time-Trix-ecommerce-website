{% extends 'layouts/main.html' %}
{% load static %}
{% block body %}

    

  <main>
    {% comment %} <h2 class="text-center font-weight-bold" style="font-size: 44px;">Confirmation</h2> {% endcomment %}

    <!-- Hero Area Start-->
    <div class="video-area">
      <div class="container-fluid">
        <div class="row align-items-center">
          <div class="col-lg-12 d-flex justify-content-center align-items-center">
            <div class="text-center">
              <!-- You can add content here if needed -->
            </div>
            <div>
              <br></br>              <img
                src="{% static 'assets\img\logo\Small-Icon-Images-91.webp' %}"
                alt="Image"
                class="img-fluid mx-auto"
                style="max-width: 200px; height:200px;"
              />
            </div>
          </div>
      
        </div>
      </div>
      <br></br>
      <h2 class="text-center font-weight-bold" style="font-size: 44px;">Click here to make payment</h2>
      <div class="col-lg-3 col-sm-6">
        <div>
            <button id="rzp-button1" class="btn card-button" value="razorpay">
                <i class="bx bxl-paypal d-block h2 mb-8"></i>
                Razorpay
            </button>
        </div>
    </div> 
<p class="text-center"></p>
    </div>
    
<style>/* Style for the video-area */
  .video-area {
    border: 2px solid #ccc;
    padding: 20px;
    width: 80%; /* Set a relative width */
    max-width: 1300px; /* Set a maximum width */
    height: 600px;
    margin: 0 auto; /* Center the div horizontally */
  }
  </style>    
      <div class="shop-method-area" style="padding-top: 40px">
        <div class="container">
          <div class="method-wrapper">
            <div class="row d-flex justify-content-between">
              <div class="col-xl-4 col-lg-4 col-md-6">
                <div class="single-method mb-40">
                  <i class="ti-package"></i>
                  <h6>Free Shipping Method</h6>
                  <p>aorem ixpsacdolor sit ameasecur adipisicing elitsf edasd.</p>
                </div>
              </div>
              <div class="col-xl-4 col-lg-4 col-md-6">
                <div class="single-method mb-40">
                  <i class="ti-unlock"></i>
                  <h6>Secure Payment System</h6>
                  <p>aorem ixpsacdolor sit ameasecur adipisicing elitsf edasd.</p>
                </div>
              </div>
              <div class="col-xl-4 col-lg-4 col-md-6">
                <div class="single-method mb-40">
                  <i class="ti-reload"></i>
                  <h6>Secure Payment System</h6>
                  <p>aorem ixpsacdolor sit ameasecur adipisicing elitsf edasd.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  </main>
  
<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
<script>
var options = {
    "key": "rzp_test_LX4eJN9JRPlhxG", // Enter the Key ID generated from the Dashboard
    "amount": "{{payment.amount}}", // Amount is in currency subunits. Default currency is INR. Hence, 50000 refers to 50000 paise
    "currency": "INR",
    "name": "Time Trix",
    "description": "Thanks",
    "image": "http://127.0.0.1:8000/static/assets/img/logo/time.png",
    "order_id": "{{payment.id}}", 
    "handler": function (response){

      window.location.href = `http://127.0.0.1:8000/cart/create_order/?razorpay_payment_id=${response.razorpay_payment_id}&razorpay_order_id=${response.razorpay_order_id}`;

       
    },

    "theme": {
        "color": "#3399cc"
    }
};
var rzp1 = new Razorpay(options);
rzp1.on('payment.failed', function (response){
        alert(response.error.code);
        alert(response.error.description);
        alert(response.error.source);
        alert(response.error.step);
        alert(response.error.reason);
        alert(response.error.metadata.order_id);
        alert(response.error.metadata.payment_id);
});
document.getElementById('rzp-button1').onclick = function(e){
    rzp1.open();
    e.preventDefault();
}
</script>

{% endblock body %}






